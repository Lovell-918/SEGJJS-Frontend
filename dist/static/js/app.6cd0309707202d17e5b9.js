webpackJsonp([1],{"44Nb":function(t,e){},"4Dou":function(t,e){},"4jd2":function(t,e){},"5jH8":function(t,e){},"7hoN":function(t,e){},EOT9:function(t,e,a){t.exports=a.p+"static/img/background-new2.cfc1df0.jpg"},LNa6:function(t,e){},Mill:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i={name:"TopBar",data:function(){return{activeIndex:"1"}},mounted:function(){var t=this.$route.path,e=window.location.href.split("mode=");e.length>1&&""!==e[1]&&(t=t+"?mode="+e[1][0]),this.activeIndex=t},watch:{$route:function(){var t=this.$route.path;if("/home"!==t){var e=window.location.href.split("mode=");e.length>1&&""!==e[1]&&(t=t+"?mode="+e[1][0])}this.activeIndex=t}},methods:{handleSelect:function(t,e){window.location.href=e[e.length-1]}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-menu",{staticClass:"topBar",attrs:{"default-active":t.activeIndex,mode:"horizontal","active-text-color":"#000000"},on:{select:t.handleSelect}},[a("el-menu-item",{staticClass:"home",style:{margin:"/admin/manage"===this.$route.path?"0 0 0 35%":"0 0 0 40%"},attrs:{index:"/home"}},[t._v("Home")]),t._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{staticClass:"submenu-title",slot:"title"},[t._v("Rank")]),t._v(" "),a("el-submenu",{attrs:{index:"/rank"}},[a("template",{slot:"title"},[t._v("Paper")]),t._v(" "),a("el-menu-item",{attrs:{index:"/rank?mode=1"}},[t._v("Cited Rank")])],2),t._v(" "),a("el-submenu",{attrs:{index:"2-2"}},[a("template",{slot:"title"},[t._v("Author")]),t._v(" "),a("el-menu-item",{attrs:{index:"/rank?mode=2"}},[t._v("Paper Rank")]),t._v(" "),a("el-menu-item",{attrs:{index:"/rank?mode=3"}},[t._v("Cited Rank")])],2),t._v(" "),a("el-submenu",{attrs:{index:"2-3"}},[a("template",{slot:"title"},[t._v("Affiliation")]),t._v(" "),a("el-menu-item",{attrs:{index:"/rank?mode=4"}},[t._v("Paper Rank")])],2),t._v(" "),a("el-submenu",{attrs:{index:"2-4"}},[a("template",{slot:"title"},[t._v("Publication")]),t._v(" "),a("el-menu-item",{attrs:{index:"/rank?mode=5"}},[t._v("Paper Rank")])],2),t._v(" "),a("el-submenu",{attrs:{index:"2-5"}},[a("template",{slot:"title"},[t._v("Keyword")]),t._v(" "),a("el-menu-item",{attrs:{index:"/rank?mode=6"}},[t._v("Paper Rank")])],2)],2),t._v(" "),"/admin/manage"===this.$route.path?a("el-menu-item",{staticClass:"admin",attrs:{index:"/admin/manage"}},[t._v("Manage")]):t._e()],1),t._v(" "),a("div",{staticClass:"option"},[a("a",{staticClass:"option-item",attrs:{href:"/home"}},[t._v("User")]),t._v(" "),a("span",[t._v("|")]),t._v(" "),a("a",{staticClass:"option-item",attrs:{href:"/login"}},[t._v("Admin")])])],1)},staticRenderFns:[]};var r={name:"App",components:{TopBar:a("VU/8")(i,s,!1,function(t){a("WkGc")},"data-v-092adab3",null).exports}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("TopBar"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var l=a("VU/8")(r,o,!1,function(t){a("4Dou")},null,null).exports,c=a("/ocq"),d=a("mtWM"),u=a.n(d),p=a("lbHh"),m=a.n(p);u.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",u.a.defaults.baseURL="http://"+location.hostname+":80/api";var h=function(){return u.a.get("/searchable").then(function(t){return t.data})},f=function(t,e,a,n,i){return u.a.get("/search/"+encodeURIComponent(t)+"/"+e+"?pageNumber="+a+"&sortMode="+n+"&perPage="+i).then(function(t){return t.data})},v=function(t,e,a,n,i){return u.a.get("/rank/"+t+"?pageNumber="+e+"&descend="+a+"&startYear="+n+"&endYear="+i).then(function(t){return t.data})},_=function(t){return u.a.get("/hot?type="+t).then(function(t){return t.data})},y=function(t,e){return u.a.get("/graph/more/"+t+"?type="+e).then(function(t){return t.data})},g=a("zL8q"),C=a.n(g),w={name:"Search",data:function(){return{mode:"All",content:"",relationMode:"AND",advancedMode:"Title",advancedContent:"",advancedSearch:[],advancedTypeDic:{Title:"blue",Author:"red",Affiliation:"orange",Publication:"yellow",Keyword:"green",Year:"light-blue"}}},props:{searchMode:{type:String,default:null},searchContent:{type:String,default:null}},mounted:function(){this.searchMode&&(this.mode=this.searchMode),this.searchContent&&(this.content=this.searchContent)},methods:{handleMode:function(t){this.mode=t},handleRelationMode:function(t){this.relationMode=t},handleAdvancedMode:function(t){this.advancedMode=t},handleCN:function(){console.log("我捕获了")},search:function(){if("Advanced"!==this.mode){if(/^( )*$/.test(this.content))this.$message({message:"请输入有效内容",type:"error",duration:2e3});else{/[%\\/?+#&=]/.test(this.content)?this.$message({message:"Search content can't include %,\\,/,?,+,#,&,=",type:"error",duration:2e3}):window.location.href="/search/"+this.mode+"/"+this.content}}else if(this.advancedSearch&&0!==this.advancedSearch.length){var t="";this.advancedSearch.forEach(function(e){t=t+e.relation+" "+e.mode+":"+e.content+" "}),"NOT"!==this.advancedSearch[0].relation&&(t=t.replace(" ","，").split("，")[1]),console.log(t),sessionStorage.setItem("advancedContent",t),window.location.href="/search/"+this.mode+"/"+t}else this.$message({message:"请添加有效进阶查询内容",type:"error",duration:2e3})},add:function(){if(/^( )*$/.test(this.advancedContent))this.$message({message:"请加入有效内容",type:"error",duration:2e3});else{/[%\\/?+#&=]/.test(this.content)?this.$message({message:"Search content can't include %,\\,/,?,+,#,&,=",type:"error",duration:2e3}):(this.advancedSearch.push({relation:this.relationMode,mode:this.advancedMode,content:this.advancedContent}),this.advancedContent="")}},remove:function(t){this.advancedSearch.splice(t,1)}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-wrap"},[a("div",{staticClass:"search-top"},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleMode}},[a("el-button",{staticClass:"mode-button",attrs:{type:"primary"}},[t._v("\n        "+t._s(t.mode)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"All"}},[t._v("All")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Title"}},[t._v("Title")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Author"}},[t._v("Author")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Affiliation"}},[t._v("Affiliation")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Publication"}},[t._v("Publication")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Keyword"}},[t._v("Keyword")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Advanced"}},[t._v("Advanced")])],1)],1),t._v(" "),"Advanced"!==t.mode?a("el-input",{staticClass:"search-input",attrs:{placeholder:"Please input the search content..."},on:{keydown:function(e){return e.type.indexOf("key")||229===e.keyCode?t.handleCN(e):null}},nativeOn:{keydown:function(e){return e.type.indexOf("key")||13===e.keyCode?t.search(e):null}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}):t._e(),t._v(" "),"Advanced"===t.mode?a("div",{staticClass:"advanced"},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleRelationMode}},[a("el-button",{staticClass:"relation-mode",attrs:{type:"primary",size:"small"}},[t._v("\n          "+t._s(t.relationMode)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"AND"}},[t._v("AND")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"OR"}},[t._v("OR")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"NOT"}},[t._v("NOT")])],1)],1),t._v(" "),a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleAdvancedMode}},[a("el-button",{staticClass:"advanced-mode",attrs:{type:"primary",size:"small"}},[t._v("\n          "+t._s(t.advancedMode)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"Title"}},[t._v("Title")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Author"}},[t._v("Author")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Affiliation"}},[t._v("Affiliation")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Publication"}},[t._v("Publication")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Keyword"}},[t._v("Keyword")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Year"}},[t._v("Year")])],1)],1),t._v(" "),a("el-input",{staticClass:"advanced-input",attrs:{size:"small",placeholder:"Please input the advanced search..."},on:{keydown:function(e){return e.type.indexOf("key")||229===e.keyCode?t.handleCN(e):null}},nativeOn:{keydown:function(e){return e.type.indexOf("key")||13===e.keyCode?t.add(e):null}},model:{value:t.advancedContent,callback:function(e){t.advancedContent=e},expression:"advancedContent"}}),t._v(" "),a("el-button",{staticClass:"advanced-add",attrs:{size:"mini"},on:{click:t.add}},[a("i",{staticClass:"el-icon-plus"})])],1):t._e(),t._v(" "),a("el-button",{staticClass:"search-enter",on:{click:t.search}},[a("i",{staticClass:"el-icon-search"})])],1),t._v(" "),"Advanced"===t.mode?a("div",{staticClass:"search-bottom"},t._l(t.advancedSearch,function(e,n){return a("div",{key:n,class:"tag "+t.advancedTypeDic[e.mode],attrs:{title:e.relation+" "+e.mode+": "+e.content}},[a("div",{staticClass:"relation-text"},[t._v(t._s(e.relation))]),t._v(" "),a("div",{staticClass:"tag-text"},[t._v(t._s(e.content))]),t._v(" "),a("i",{staticClass:"el-icon-close tag-delete",on:{click:function(e){return t.remove(n)}}})])}),0):t._e()])},staticRenderFns:[]};var k=a("VU/8")(w,b,!1,function(t){a("5jH8")},"data-v-6c6baef2",null).exports,T={name:"Home",components:{Search:k},data:function(){return{authorTableData:[],affiliationTableData:[],termTableData:[]}},mounted:function(){var t=this,e=g.Loading.service({fullscreen:!0,text:"Server not available, please wait for a moment..."});h().then(function(a){a.success&&(_(1).then(function(e){t.authorTableData=e}),_(2).then(function(e){t.affiliationTableData=e}),_(4).then(function(e){t.termTableData=e}),e.close())})}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"body-top"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("Search")],1),t._v(" "),a("div",{staticClass:"body-bottom"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("strong",{staticClass:"rank-wrap-title"},[t._v("Hot Rank")])]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-row",{staticClass:"rank-wrap",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{staticClass:"rank",attrs:{span:7}},[a("el-row",[a("el-col",{staticClass:"rank-title",attrs:{span:24}},[a("strong",[t._v("Author Hot Rank")])]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:3}},[a("strong",[t._v("Rank")])]),t._v(" "),a("el-col",{attrs:{span:15,offset:1}},[a("strong",[t._v("Author Name")])]),t._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("strong",[t._v("Hot")])])],1),t._v(" "),t._l(t.authorTableData,function(e,n){return a("el-row",{key:n,staticClass:"rank-item"},[a("el-col",{attrs:{span:3}},[t._v(t._s(n+1))]),t._v(" "),a("el-col",{staticClass:"data-name-column",attrs:{span:15,offset:1}},[a("el-tooltip",{attrs:{content:e.name,placement:"bottom-start",effect:"dark","open-delay":400}},[a("a",{staticClass:"data-name",attrs:{href:"/entity/author/"+e.id}},[t._v(t._s(e.name))])])],1),t._v(" "),a("el-col",{attrs:{span:4,offset:1}},[t._v(t._s(e.value.toFixed(2)))])],1)})],2)],1),t._v(" "),a("el-col",{staticClass:"rank",attrs:{span:7}},[a("el-col",{staticClass:"rank-title",attrs:{span:24}},[a("strong",[t._v("Affiliation Hot Rank")])]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:3}},[a("strong",[t._v("Rank")])]),t._v(" "),a("el-col",{attrs:{span:15,offset:1}},[a("strong",[t._v("Affiliation Name")])]),t._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("strong",[t._v("Hot")])])],1),t._v(" "),t._l(t.affiliationTableData,function(e,n){return a("el-row",{key:n,staticClass:"rank-item"},[a("el-col",{attrs:{span:3}},[t._v(t._s(n+1))]),t._v(" "),a("el-col",{staticClass:"data-name-column",attrs:{span:15,offset:1}},[a("el-tooltip",{attrs:{content:e.name,placement:"bottom-start",effect:"dark","open-delay":400}},[a("a",{staticClass:"data-name",attrs:{href:"/entity/affiliation/"+e.id}},[t._v(t._s(e.name))])])],1),t._v(" "),a("el-col",{attrs:{span:4,offset:1}},[t._v(t._s(e.value.toFixed(2)))])],1)})],2),t._v(" "),a("el-col",{staticClass:"rank",attrs:{span:7}},[a("el-col",{staticClass:"rank-title",attrs:{span:24}},[a("strong",[t._v("Term Hot Rank")])]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:3}},[a("strong",[t._v("Rank")])]),t._v(" "),a("el-col",{attrs:{span:15,offset:1}},[a("strong",[t._v("Term")])]),t._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("strong",[t._v("Hot")])])],1),t._v(" "),t._l(t.termTableData,function(e,n){return a("el-row",{key:n,staticClass:"rank-item"},[a("el-col",{attrs:{span:3}},[t._v(t._s(n+1))]),t._v(" "),a("el-col",{staticClass:"data-name-column",attrs:{span:15,offset:1}},[a("el-tooltip",{attrs:{content:e.name,placement:"bottom-start",effect:"dark","open-delay":400}},[a("a",{staticClass:"data-name",attrs:{href:"/graph/term/"+e.id}},[t._v(t._s(e.name))])])],1),t._v(" "),a("el-col",{attrs:{span:4,offset:1}},[t._v(t._s(e.value.toFixed(2)))])],1)})],2)],1)],1)],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-wrap"},[e("img",{attrs:{src:a("suEp"),alt:"This is a background picture."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"system-name-wrap"},[e("span",[this._v("Online grAph System for academIcS")])])}]};var O=a("VU/8")(T,x,!1,function(t){a("7hoN")},"data-v-91bb2e74",null).exports,A={name:"Card",data:function(){return{}},props:{simplePaperVO:{type:Object,default:{}}},methods:{searchItem:function(t){/<b><span style="color: #b04c50; ">/.test(t)&&(t=t.replace(/<b><span style="color: #b04c50; ">/g,"").replace(/<\/span><\/b>/g,""));window.location.href="/search/Keyword/"+t}}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"title-wrap"},[a("a",{staticClass:"title",attrs:{href:"/paper/"+t.simplePaperVO.id},domProps:{innerHTML:t._s(t.simplePaperVO.title)}})]),t._v(" "),t.simplePaperVO.author_simpleAffiliationVOS&&t.simplePaperVO.author_simpleAffiliationVOS[0]&&""!==t.simplePaperVO.author_simpleAffiliationVOS[0].author?a("div",{staticClass:"author-affiliation-wrap"},[t._l(t.simplePaperVO.author_simpleAffiliationVOS,function(e,n){return n<3?a("div",{staticClass:"author-affiliation"},[a("a",{staticClass:"author",attrs:{href:"/entity/author/"+e.authorId},domProps:{innerHTML:t._s(e.author)}}),t._v(" "),e.affiliation&&"NA"!==e.affiliation?a("span",[t._v(",")]):t._e(),t._v(" "),e.affiliation&&"NA"!==e.affiliation?a("a",{staticClass:"affiliation",attrs:{href:"/entity/affiliation/"+e.affiliationId},domProps:{innerHTML:t._s(e.affiliation)}}):t._e(),t._v(" "),a("span",[t._v(";")])]):t._e()}),t._v(" "),t.simplePaperVO.author_simpleAffiliationVOS.length>3?a("div",[t._v("...")]):t._e()],2):t._e(),t._v(" "),t.simplePaperVO.publicationTitle?a("div",{staticClass:"publication-wrap"},[a("span",[t._v("publication: ")]),t._v(" "),a("a",{staticClass:"publication",attrs:{href:"/entity/issue/"+t.simplePaperVO.conferenceId}},[a("span",{domProps:{innerHTML:t._s(t.simplePaperVO.publicationTitle)}})])]):t._e(),t._v(" "),t.simplePaperVO.keywords&&t.simplePaperVO.keywords[0]?a("div",{staticClass:"keyword-wrap"},t._l(t.simplePaperVO.keywords,function(e,n){return n<5?a("span",[a("span",{staticClass:"keyword",domProps:{innerHTML:t._s(e)},on:{click:function(a){return t.searchItem(e)}}})]):t._e()}),0):t._e()])},staticRenderFns:[]};var P=a("VU/8")(A,V,!1,function(t){a("44Nb")},"data-v-4ca35f6a",null).exports,E={name:"RankList",data:function(){return{to:"",title:"",name:"",rankName:"",column1:700,column2:0,sortable:"custom",year:[2013,2019],yearData:[2013,2014,2015,2016,2017,2018,2019]}},props:{size:{type:String,default:"large"},mode:{type:String,default:""},data:{type:Array,default:function(){}},page:{type:Number,default:1}},mounted:function(){"small"===this.size&&(this.column1=200,this.column2=120,this.sortable=!1),this.change(this.mode)},watch:{mode:"change",year:function(){this.$emit("changeYear",this.year)}},methods:{change:function(t){switch(t){case"1":this.title="Rank of Paper by Cited",this.name="Title",this.rankName="Cited Number",this.to="/rank?mode=1";break;case"2":this.title="Rank of Author by Paper",this.name="Author",this.rankName="Paper Number",this.to="/rank?mode=2";break;case"3":this.title="Rank of Author by Cited",this.name="Author",this.rankName="Cited Number",this.to="/rank?mode=3";break;case"4":this.title="Rank of Affiliation by Paper",this.name="Affiliation",this.rankName="Paper Number",this.to="/rank?mode=4";break;case"5":this.title="Rank of Publication by Paper",this.name="Publication",this.rankName="Paper Number",this.to="/rank?mode=5";break;case"6":this.title="Rank of Keyword by Paper",this.name="Keyword",this.rankName="Paper Number",this.to="/rank?mode=6";break;default:this.title="Rank of Paper by Cited",this.name="Name",this.rankName="Cited Number",this.to="/rank?mode=1"}},getIndex:function(t){return t+1+10*(this.page-1)}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rank-list"},[a("div",{class:t.size,model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},[a("span",[t._v(t._s(t.title))]),t._v(" "),"small"===t.size?a("a",{attrs:{href:t.to}},[t._v(">>>")]):t._e()]),t._v(" "),"large"===t.size?a("div",{staticStyle:{display:"flex",margin:"20px 30px 0 12px"}},[a("span",{staticStyle:{"font-weight":"bold","font-size":"20px"}},[t._v("Year:")]),t._v(" "),a("div",{staticStyle:{margin:"-2px 30px 15px 30px"}},[a("vue-slider",{attrs:{width:600,min:2013,max:2019,interval:1,lazy:!0,marks:!0,"drag-on-click":!0,"process-style":{backgroundColor:"#000000"},"tooltip-style":{backgroundColor:"#000000",borderColor:"#000000"}},scopedSlots:t._u([{key:"dot",fn:function(t){t.value;var e=t.focus;return[a("div",{class:["custom-dot",{focus:e}]})]}},{key:"step",fn:function(t){t.label;var e=t.active;return[a("div",{class:["custom-step",{active:e}]})]}}],null,!1,3745809668),model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1)]):t._e(),t._v(" "),a("el-table",{attrs:{data:t.data,size:"medium"}},["small"!==t.size?a("el-table-column",{attrs:{type:"index",index:t.getIndex,label:"Rank",width:60}}):t._e(),t._v(" "),a("el-table-column",{key:"column1",attrs:{prop:"name",label:t.name,width:t.column1}}),t._v(" "),a("el-table-column",{attrs:{sortable:t.sortable,prop:"value",label:t.rankName,width:t.column2}})],1)],1)},staticRenderFns:[]};var S=a("VU/8")(E,N,!1,function(t){a("pZBf")},"data-v-2cfdf9d1",null).exports,I={name:"SearchPage",components:{Search:k,RankList:S,Card:P},data:function(){return{displayBottom:!1,mode:"All",simplePaperVO:[],searchContent:"",showSearch:!1,currentPage:1,sortMode:"Relevance",resultTitleMode:"",resultTitleContent:"",tableSize:"small",tableMode:"0",tableData:[],tableModeDic:{All:"1",Title:"1",Author:"2",Affiliation:"4",Publication:"5",Keyword:"6",Advanced:"1"},tableModeDic2:{All:"Paper-Cited",Title:"Paper-Cited",Author:"Author-Paper",Affiliation:"Affiliation-Paper",Publication:"Publication-Paper",Keyword:"Keyword-Paper",Advanced:"Paper-Cited"}}},mounted:function(){var t=this,e=g.Loading.service({fullscreen:!0,text:"Server not available, please wait for a moment..."});h().then(function(a){if(a.success){e.close();var n=t.$route.params.content;null!==n&&""!==n?t.searchBegin():window.location.href="/home"}})},watch:{sortMode:function(){this.searchBegin()}},methods:{handleSortMode:function(t){this.sortMode=t},searchBegin:function(){var t=this,e=this.$route.params.content;null!==e&&(this.searchContent=e,this.mode=this.$route.params.mode),this.currentPage=1,this.simplePaperVO.length=0,f(this.searchContent,this.mode,this.currentPage,this.sortMode,10).then(function(e){t.simplePaperVO=e,t.resultTitleMode=t.mode,t.resultTitleContent=t.searchContent,t.displayBottom=!0,t.tableMode=t.tableModeDic[t.mode];var a=t.tableModeDic2[t.mode];v(a,1,!0,2013,2019).then(function(e){t.tableData=e.content.rankList})}),this.showSearch=!0},loadMore:function(){var t=this;this.currentPage+=1,f(this.searchContent,this.mode,this.currentPage,this.sortMode,10).then(function(e){for(var a in e)t.simplePaperVO.push(e[a])})}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"body-top"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t.showSearch?a("Search",{attrs:{"search-mode":t.mode,"search-content":t.searchContent}}):t._e()],1),t._v(" "),t.displayBottom?a("div",{staticClass:"body-bottom"},[a("el-row",[a("el-col",{attrs:{span:23}},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("Home")]),t._v(" "),a("el-breadcrumb-item",[t._v("Search")])],1)],1)]),t._v(" "),a("el-col",{attrs:{span:17,offset:1}},[a("div",{staticClass:"result-title-wrap"},[a("div",{staticClass:"result-title"},[t._v("\n            Results for "),a("span",{staticClass:"emphasize content",attrs:{title:t.resultTitleContent}},[t._v(t._s(t.resultTitleContent))]),t._v(" in "),a("span",{staticClass:"emphasize"},[t._v(t._s(t.resultTitleMode))]),t._v(":\n          ")]),t._v(" "),t.simplePaperVO[0]?a("div",{staticClass:"sort-mode-wrap"},[a("span",{staticClass:"sort-mode-before"},[t._v("sort by:")]),t._v(" "),a("el-dropdown",{staticClass:"sort-mode",attrs:{trigger:"click"},on:{command:t.handleSortMode}},[a("el-button",{staticClass:"sort-mode-button",attrs:{type:"primary"}},[t._v("\n                "+t._s(t.sortMode)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"Relevance"}},[t._v("Relevance")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Newest"}},[t._v("Newest")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Oldest"}},[t._v("Oldest")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Title A-Z"}},[t._v("Title A-Z")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"Title Z-A"}},[t._v("Title Z-A")])],1)],1)],1):t._e()]),t._v(" "),a("div",{staticClass:"result-content"},t._l(t.simplePaperVO,function(t,e){return a("Card",{key:e,attrs:{"simple-paper-v-o":t}})}),1),t._v(" "),t.simplePaperVO[0]?t._e():a("div",{staticClass:"message"},[t._v("No Result...")]),t._v(" "),t.simplePaperVO[0]?a("el-button",{staticClass:"result-more",on:{click:t.loadMore}},[t._v("load more...")]):t._e()],1),t._v(" "),a("el-col",{staticClass:"body-bottom-right",attrs:{span:6}},[a("RankList",{attrs:{size:t.tableSize,mode:t.tableMode,data:t.tableData,page:1}})],1)],1)],1):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-wrap"},[e("img",{attrs:{src:a("suEp"),alt:"This is a background picture."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"system-name-wrap"},[e("span",[this._v("Online grAph System for academIcS")])])}]};var M=a("VU/8")(I,R,!1,function(t){a("tgRP")},"data-v-f640c698",null).exports,$={name:"Rank",components:{RankList:S},data:function(){return{href:window.location.href,tableSize:"large",tableMode:"0",tableData:[],tableDescending:!0,currentPage:1,totalPage:0,startYear:2013,endYear:2019}},mounted:function(){var t=window.location.href.split("mode=");t.length>1&&""!==t[1]?this.tableMode=t[1][0]:this.tableMode="1",this.showRank();var e=this;setTimeout(function(){var t=document.getElementsByClassName("ascending")[0],a=document.getElementsByClassName("descending")[0];t.classList.add("ascend"),a.classList.add("descend"),t.classList.remove("sort-up-positive"),t.classList.add("sort-up-negative"),a.classList.remove("sort-down-negative"),a.classList.add("sort-down-positive"),t.addEventListener("click",function(){e.tableDescending&&(e.tableDescending=!e.tableDescending,t.classList.remove("sort-up-negative"),t.classList.add("sort-up-positive"),a.classList.remove("sort-down-positive"),a.classList.add("sort-down-negative"),e.showRank())},!1),a.addEventListener("click",function(){e.tableDescending||(e.tableDescending=!e.tableDescending,t.classList.remove("sort-up-positive"),t.classList.add("sort-up-negative"),a.classList.remove("sort-down-negative"),a.classList.add("sort-down-positive"),e.showRank())},!1)},100)},watch:{$route:function(){this.tableMode=window.location.href.split("mode=")[1][0]},tableMode:function(){this.tableDescending=!0;var t=document.getElementsByClassName("ascend")[0],e=document.getElementsByClassName("descend")[0];t&&e&&(t.classList.remove("sort-up-positive"),t.classList.add("sort-up-negative"),e.classList.remove("sort-down-negative"),e.classList.add("sort-down-positive")),this.currentPage=1,this.showRank()}},methods:{handleSelect:function(t,e){this.$router.push("/rank?mode="+t).catch(function(t){console.log(t)}),this.tableMode=t},showRank:function(){var t=this,e=void 0;switch(this.tableMode){case"1":e="Paper-Cited";break;case"2":e="Author-Paper";break;case"3":e="Author-Cited";break;case"4":e="Affiliation-Paper";break;case"5":e="Publication-Paper";break;case"6":e="Keyword-Paper"}v(e,this.currentPage,this.tableDescending,this.startYear,this.endYear).then(function(e){e.success&&(t.tableData=e.content.rankList,t.totalPage=e.content.totalPage)})},changeYear:function(t){this.startYear=t[0],this.endYear=t[1],this.showRank()}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("div",{staticClass:"body-bottom"},[a("el-row",[a("el-col",{staticClass:"rank-select-wrap",attrs:{span:6}},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.tableMode,mode:"vertical","active-text-color":"#000000"},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[a("div",{staticClass:"rank-select-item"},[t._v("Rank of Paper by Cited")]),a("div",[a("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),a("el-menu-item",{attrs:{index:"2"}},[a("div",{staticClass:"rank-select-item"},[t._v("Rank of Author by Paper")]),a("div",[a("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),a("el-menu-item",{attrs:{index:"3"}},[a("div",{staticClass:"rank-select-item"},[t._v("Rank of Author by Cited")]),a("div",[a("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),a("el-menu-item",{attrs:{index:"4"}},[a("div",{staticClass:"rank-select-item"},[t._v("Rank of Affiliation by Paper")]),a("div",[a("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),a("el-menu-item",{attrs:{index:"5"}},[a("div",{staticClass:"rank-select-item"},[t._v("Rank of Publication by Paper")]),a("div",[a("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),a("el-menu-item",{attrs:{index:"6"}},[a("div",{staticClass:"rank-select-item"},[t._v("Rank of Keyword by Paper")]),a("div",[a("i",{staticClass:"el-icon-arrow-right"})])])],1)],1),t._v(" "),a("el-col",{attrs:{span:18}},[a("div",{staticClass:"body-bottom-right"},[a("span",{staticClass:"demonstration"},[a("RankList",{attrs:{size:t.tableSize,mode:t.tableMode,data:t.tableData,page:t.currentPage},on:{changeYear:t.changeYear}})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":1,layout:"total, prev, pager, next, jumper",total:t.totalPage},on:{"current-change":t.showRank,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"body-top"},[e("div",{staticClass:"top-img"},[e("img",{attrs:{src:a("EOT9"),alt:"This is a background pic."}})]),this._v(" "),e("div",{staticClass:"system-name-wrap"},[e("span",[this._v("Online grAph System for academIcS")])])])}]};var z=a("VU/8")($,D,!1,function(t){a("aM76")},"data-v-06cdc458",null).exports,L={name:"Paper",data:function(){return{id:0,paperVO:{},activeCollapse:["1","2","3"]}},mounted:function(){var t,e=this;this.id=this.$route.params.id,void 0===this.id||(t=this.id,u.a.get("/paperDetail/"+t).then(function(t){return t.data})).then(function(t){t.success?(e.paperVO=t.content,window.scrollTo(0,0)):e.$alert("Fail to get paper，please search again","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1}).then(function(){window.location.href="/home"})}).catch(function(){e.$alert("Fail to get paper，please search again","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1}).then(function(){window.location.href="/home"})})},methods:{handleChange:function(t){console.log(t)},search:function(t){/<b><span style="color: #b04c50; ">/.test(t)&&(t=t.replace(/<b><span style="color: #b04c50; ">/g,"").replace(/<\/span><\/b>/g,""));window.location.href="/search/Keyword/"+t}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("div",{staticClass:"body_bottom"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("Home")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:"/entity/issue/"+t.paperVO.conferenceId}},[a("span",[t._v(t._s(t.paperVO.publicationYear)+" "+t._s(t.paperVO.publicationTitle))])]),t._v(" "),a("el-breadcrumb-item",[t._v(t._s(t.paperVO.title))])],1),t._v(" "),a("div",{staticClass:"body_bottom_body"},[a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.paperVO.title))])]),t._v(" "),t.paperVO.referenceCount>0||t.paperVO.citationCount>0?a("div",{staticClass:"citation_wrap"},[t.paperVO.referenceCount>0?a("div",{staticClass:"reference citation_box"},[a("div",{staticClass:"citation_title"},[t._v("Reference")]),t._v(" "),a("div",{staticClass:"citation_count"},[t._v(t._s(t.paperVO.referenceCount))])]):t._e(),t._v(" "),t.paperVO.citationCount>0?a("div",{staticClass:"citation citation_box"},[a("div",{staticClass:"citation_title"},[t._v("Citation")]),t._v(" "),a("div",{staticClass:"citation_count"},[t._v(t._s(t.paperVO.citationCount))])]):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"information"},[a("el-collapse",{on:{change:t.handleChange},model:{value:t.activeCollapse,callback:function(e){t.activeCollapse=e},expression:"activeCollapse"}},[a("el-collapse-item",{staticClass:"block",attrs:{title:"Abstract",name:"1"}},[a("div",{staticClass:"abstract"},[t.paperVO.summary?a("div",{staticClass:"summary font-medium"},[a("div",{staticClass:"subtitle"},[t._v("Summary:")]),t._v("\n                "+t._s(t.paperVO.summary)+"\n              ")]):t._e(),t._v(" "),t.paperVO.publicationTitle?a("div",{staticClass:"publication font-medium"},[a("div",{staticClass:"subtitle"},[t._v("Publication:")]),t._v(" "),a("a",{staticClass:"issue",attrs:{href:"/entity/issue/"+t.paperVO.conferenceId}},[t._v(t._s(t.paperVO.publicationTitle)+", P"+t._s(t.paperVO.startPage)+" - P"+t._s(t.paperVO.endPage)+", "+t._s(t.paperVO.publicationYear))])]):t._e(),t._v(" "),t.paperVO.publisher?a("div",{staticClass:"publisher font-medium"},[a("span",{staticClass:"subtitle"},[t._v("Publisher: ")]),t._v(t._s(t.paperVO.publisher)+"\n              ")]):t._e(),t._v(" "),t.paperVO.doi?a("div",{staticClass:"DOI font-medium"},[a("span",{staticClass:"subtitle"},[t._v("DOI: ")]),t._v(t._s(t.paperVO.doi)+"\n              ")]):t._e(),t._v(" "),t.paperVO.pdflink?a("div",{staticClass:"PDFLink font-medium"},[a("span",{staticClass:"subtitle"},[t._v("PDF Link: ")]),a("a",{attrs:{href:t.paperVO.pdflink}},[t._v(t._s(t.paperVO.pdflink))])]):t._e()])]),t._v(" "),t.paperVO.author_affiliationVOS&&t.paperVO.author_affiliationVOS[0]?a("el-collapse-item",{staticClass:"block",attrs:{title:"Authors",name:"2"}},t._l(t.paperVO.author_affiliationVOS,function(e){return e.author?a("div",{staticClass:"author_affiliation"},[a("a",{staticClass:"author",attrs:{href:"/entity/author/"+e.authorId}},[t._v(t._s(e.author))]),t._v(" "),"NA"!==e.affiliation.name?a("a",{staticClass:"affiliation",attrs:{href:"/entity/affiliation/"+e.affiliation.id}},[t._v(t._s(e.affiliation.name))]):t._e()]):t._e()}),0):t._e(),t._v(" "),t.paperVO.authorKeywords&&t.paperVO.authorKeywords[0]||t.paperVO.ieeeterms&&t.paperVO.ieeeterms[0]||t.paperVO.controlledTerms&&t.paperVO.controlledTerms[0]||t.paperVO.nonControlledTerms&&t.paperVO.nonControlledTerms[0]?a("el-collapse-item",{staticClass:"block",attrs:{title:"Keywords",name:"3"}},[t.paperVO.authorKeywords&&t.paperVO.authorKeywords[0]?a("div",{staticClass:"author_keywords keywords"},[a("div",{staticClass:"subtitle"},[t._v("Author Keywords")]),t._v(" "),a("div",{staticClass:"keyword_wrap"},t._l(t.paperVO.authorKeywords,function(e){return a("span",{staticClass:"keyword",on:{click:function(a){return t.search(e)}}},[t._v(t._s(e))])}),0)]):t._e(),t._v(" "),t.paperVO.ieeeterms&&t.paperVO.ieeeterms[0]?a("div",{staticClass:"IEEE_keywords keywords"},[a("div",{staticClass:"subtitle"},[t._v("IEEE Keywords")]),t._v(" "),a("div",{staticClass:"keyword_wrap"},t._l(t.paperVO.ieeeterms,function(e){return a("span",{staticClass:"keyword",on:{click:function(a){return t.search(e)}}},[t._v(t._s(e))])}),0)]):t._e(),t._v(" "),t.paperVO.controlledTerms&&t.paperVO.controlledTerms[0]?a("div",{staticClass:"controlled_terms keywords"},[a("div",{staticClass:"subtitle"},[t._v("INSPEC: Controlled Indexing")]),t._v(" "),a("div",{staticClass:"keyword_wrap"},t._l(t.paperVO.controlledTerms,function(e){return a("span",{staticClass:"keyword",on:{click:function(a){return t.search(e)}}},[t._v(t._s(e))])}),0)]):t._e(),t._v(" "),t.paperVO.nonControlledTerms&&t.paperVO.nonControlledTerms[0]?a("div",{staticClass:"non_controlled_terms keywords"},[a("div",{staticClass:"subtitle"},[t._v("INSPEC: Non-Controlled Indexing")]),t._v(" "),a("div",{staticClass:"keyword_wrap"},t._l(t.paperVO.nonControlledTerms,function(e){return a("span",{staticClass:"keyword",on:{click:function(a){return t.search(e)}}},[t._v(t._s(e))])}),0)]):t._e()]):t._e()],1)],1)])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"body_top"},[e("div",{staticClass:"top_img"},[e("img",{attrs:{src:a("EOT9"),alt:"This is a background pic."}})]),this._v(" "),e("div",{staticClass:"system-name-wrap"},[e("span",[this._v("Online grAph System for academIcS")])])])}]};var G=a("VU/8")(L,B,!1,function(t){a("gesG")},"data-v-3ecb9a6b",null).exports,H={name:"AdminLogin",mounted:function(){var t=m.a.get("Authorization");void 0!==t&&null!==t&&(window.location.href="/admin/manage")},data:function(){return{username:"",password:"",remember_me:!1}},methods:{handleCN:function(){console.log("我捕获了")},login:function(){var t,e,a,n=this;""!==this.username&&""!==this.password&&(t=this.username,e=this.password,a=this.remember_me,u.a.post("/login?remember-me="+a,{username:t,password:e}).then(function(t){return t.data})).then(function(t){if("200"===t.status){var e=new Date((new Date).getTime()+6e5);m.a.set("Authorization",t.jwtToken,{expires:e}),document.location.href="/admin/manage"}else n.$message({message:"username or password wrong!",type:"error",duration:1500})})}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"login-wrap"},[t._m(0),t._v(" "),a("div",{staticClass:"login-content"},[a("div",{staticClass:"login-username"},[a("code",{staticClass:"text"},[t._v("username: ")]),t._v(" "),a("el-input",{staticClass:"local-input",on:{keydown:function(e){return e.type.indexOf("key")||229===e.keyCode?t.handleCN(e):null}},nativeOn:{keydown:function(e){return e.type.indexOf("key")||13===e.keyCode?t.login(e):null}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),a("div",{staticClass:"login-password"},[a("code",{staticClass:"text"},[t._v("password: ")]),t._v(" "),a("el-input",{staticClass:"local-input",attrs:{type:"password"},on:{keydown:function(e){return e.type.indexOf("key")||229===e.keyCode?t.handleCN(e):null}},nativeOn:{keydown:function(e){return e.type.indexOf("key")||13===e.keyCode?t.login(e):null}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.remember_me,expression:"remember_me"}],attrs:{type:"checkbox",name:"remember-me",value:"true",checked:"checked"},domProps:{checked:Array.isArray(t.remember_me)?t._i(t.remember_me,"true")>-1:t.remember_me},on:{change:function(e){var a=t.remember_me,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=t._i(a,"true");n.checked?s<0&&(t.remember_me=a.concat(["true"])):s>-1&&(t.remember_me=a.slice(0,s).concat(a.slice(s+1)))}else t.remember_me=i}}}),t._v("\n      remember me\n    ")]),t._v(" "),a("el-button",{staticClass:"login-confirm",on:{click:t.login}},[t._v("Log In")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-title"},[e("h2",[this._v("Welcome!")])])}]};var K=a("VU/8")(H,F,!1,function(t){a("Mill")},"data-v-4948791a",null).exports,U=a("vwbq"),Y=a("NobO"),j={name:"RelationGraph",data:function(){return{id:0,type:1,graphVO:{},moreGraphVO:{},moreGraphReady:!1,showTotal:!1,searchText:"",isSearching:!1,nodeNum:0,maxHot:0}},props:{eid:{type:Number,default:13689},etype:{type:Number,default:1},size:{type:String,default:"large"}},mounted:function(){var t=this;this.id=this.eid,this.type=this.etype;var e,a,n=g.Loading.service({fullscreen:!0,text:"loading..."});(e=this.id,a=this.type,u.a.get("/graph/basic/"+e+"?type="+a).then(function(t){return t.data})).then(function(e){if(t.graphVO=e,n.close(),t.showTotal&&t.type<4&&"large"===t.size)y(t.id,t.type).then(function(e){t.moreGraphVO=e,t.moreGraphReady=!0;var a=t.graphVO.nodes.concat(t.moreGraphVO.nodes),n=t.graphVO.links.concat(t.moreGraphVO.links);t.forceDirected(a,n)});else{var a=t.graphVO.nodes,i=t.graphVO.links;t.forceDirected(a,i),t.type<4&&"large"===t.size&&y(t.id,t.type).then(function(e){t.moreGraphVO=e,t.moreGraphReady=!0})}})},watch:{showTotal:function(){if(this.showTotal&&!this.moreGraphReady&&this.type<4)this.$notify.info({title:"info",message:"Total graph is preparing!",duration:0,showClose:!1});else if(this.showTotal&&this.type<4){this.$notify.closeAll();var t=document.getElementById("forceDirected");t.childNodes.forEach(function(e){t.removeChild(e)});var e=this.graphVO.nodes.concat(this.moreGraphVO.nodes),a=this.graphVO.links.concat(this.moreGraphVO.links);this.forceDirected(e,a)}else{this.$notify.closeAll();var n=document.getElementById("forceDirected");n.childNodes.forEach(function(t){n.removeChild(t)});var i=this.graphVO.nodes,s=this.graphVO.links;this.forceDirected(i,s)}},moreGraphReady:function(){if("large"===this.size){this.$notify.closeAll();var t=this;this.$notify.success({title:"success",message:"Total graph is ready!",duration:1500,onClose:function(){if(t.showTotal){var e=document.getElementById("forceDirected");e.childNodes.forEach(function(t){e.removeChild(t)});var a=t.graphVO.nodes.concat(t.moreGraphVO.nodes),n=t.graphVO.links.concat(t.moreGraphVO.links);t.forceDirected(a,n)}}})}}},computed:{changeType:function(){var t=this.$route.params.type;return t.substring(0,1).toUpperCase()+t.substring(1)}},methods:{forceDirected:function(t,e){console.log(t.length),this.nodeNum=t.length;var a=Math.max.apply(Math,e.map(function(t){return t.value}));this.maxHot=a;var n=document.getElementById("svgContainer").offsetWidth,i=400;i="large"===this.size?t.length<150?800:t.length<400?1200:1600:t.length<50?600:800;var s=Number(this.id),r=Number(this.type),o=this,l=U.i("#forceDirected").append("svg").attr("id","graph").attr("width",n).attr("height",i),c=U.f().nodes(t).force("link",U.d(e).distance(t.length<200?200:100).id(function(t){return t.id})).force("charge",U.e()).force("center",U.c(n/2,i/2));l.selectAll("line").data(e).enter().append("line").attr("stroke","#cccccc").attr("stroke-width",function(t){return(t.value+1)/(a+1)>.8?t.value>=a?10:(t.value+1)/(a+1)*8+2:t.value>=0?(t.value+1)/(a+1)*4+2:1}).attr("stroke-dasharray",function(t){return 4===t.source.entityType||4===t.target.entityType?"":"5,5"}).attr("background","linear-gradient(to right, red , yellow)"),l.selectAll("text").data(t).enter().append("text").style("font-size","10px").style("fill","#000000").style("left","10px").attr("dx",10).attr("dy",10).text(function(e){return t.length<200?e.entityName.length<=20?e.entityName:e.entityName.substr(0,20)+"...":e.entityName.length<=10?e.entityName:e.entityName.substr(0,10)+"..."}),l.selectAll("circle").data(t).enter().append("circle").attr("r",function(e){return t.length<200?e.entityId===s&&e.entityType===r?10:e.popularity>=0?e.popularity>=o.graphVO.popularity?10:e.popularity/o.graphVO.popularity*6+4:6:e.entityId===s&&e.entityType===r?6:e.popularity>=0?e.popularity>=o.graphVO.popularity?6:e.popularity/o.graphVO.popularity*2+4:5}).attr("stroke","#000000").attr("stroke-width",2).style("cursor","pointer").style("fill",function(t){return t.entityId===s&&t.entityType===r?"rgb(106,0,95)":1===t.entityType?"rgb(214, 39, 40)":2===t.entityType?"rgb(255, 127, 14)":3===t.entityType?"rgb(214,214,8)":4===t.entityType?"rgb(44, 160, 44)":5===t.entityType?"rgb(31, 119, 180)":"rgb(0,0,0)"}).attr("class",function(t){return 1===t.entityType?"author":2===t.entityType?"affiliation":3===t.entityType?"issue":4===t.entityType?"term":5===t.entityType?"paper":""}).on("click",function(t){t.entityType<5?window.location.href="/graph/"+{1:"author",2:"affiliation",3:"issue",4:"term",5:"paper"}[t.entityType]+"/"+t.entityId:window.location.href="/paper/"+t.entityId}).call(U.a().on("start",function(t){U.b.active||c.alphaTarget(.8).restart(),t.fx=t.x,t.fy=t.y}).on("drag",function(t){t.fx=U.b.x,t.fy=U.b.y}).on("end",function(t){U.b.active||c.alphaTarget(0),t.fx=null,t.fy=null})).on("mouseover",function(t){o.isSearching||l.selectAll("line").style("stroke-width",function(e){if(e.source===t||e.target===t)return 2}).style("stroke",function(e){if(e.source===t||e.target===t)return"#000000"})}).on("mouseout",function(t){o.isSearching||l.selectAll("line").style("stroke-width",function(e){if(e.source===t||e.target===t)return(e.value+1)/(a+1)>.8?e.value>=a?10:(e.value+1)/(a+1)*8+2:e.value>=0?(e.value+1)/(a+1)*4+2:1}).style("stroke",function(e){if(e.source===t||e.target===t)return"#cccccc"})}).append("title").text(function(t){return t.entityName}),c.on("tick",function(){l.selectAll("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),l.selectAll("text").attr("x",function(t){return t.x}).attr("y",function(t){return t.y}),l.selectAll("line").attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})}),this.searchNodes()},searchNodes:function(){var t=U.i("#forceDirected"),e=Number(this.id),a=Number(this.type),n=this;""===this.searchText?(this.isSearching=!1,t.selectAll("circle").style("fill",function(t){return t.entityId===e&&t.entityType===a?"rgb(106,0,95)":1===t.entityType?"rgb(214, 39, 40)":2===t.entityType?"rgb(255, 127, 14)":3===t.entityType?"rgb(214,214,8)":4===t.entityType?"rgb(44, 160, 44)":5===t.entityType?"rgb(31, 119, 180)":"rgb(0,0,0)"}).attr("stroke","#000000"),t.selectAll("line").style("stroke-width",function(t){return(t.value+1)/(n.maxHot+1)>.8?t.value>=n.maxHot?10:(t.value+1)/(n.maxHot+1)*8+2:t.value>=0?(t.value+1)/(n.maxHot+1)*4+2:1}).style("stroke","#cccccc"),t.selectAll("text").text(function(t){return n.nodeNum.length<200?t.entityName.length<=20?t.entityName:t.entityName.substr(0,20)+"...":t.entityName.length<=10?t.entityName:t.entityName.substr(0,10)+"..."})):(this.isSearching=!0,t.selectAll("circle").style("fill",function(t){return-1===t.entityName.indexOf(n.searchText)?"#cccccc":t.entityId===e&&t.entityType===a?"rgb(106,0,95)":1===t.entityType?"rgb(214, 39, 40)":2===t.entityType?"rgb(255, 127, 14)":3===t.entityType?"rgb(214,214,8)":4===t.entityType?"rgb(44, 160, 44)":5===t.entityType?"rgb(31, 119, 180)":void 0}).attr("stroke",function(t){return-1!==t.entityName.indexOf(n.searchText)?"#000000":"#cccccc"}),t.selectAll("line").style("stroke-width",function(t){if(-1!==t.source.entityName.indexOf(n.searchText)||-1!==t.target.entityName.indexOf(n.searchText))return 2}).style("stroke",function(t){if(-1!==t.source.entityName.indexOf(n.searchText)||-1!==t.target.entityName.indexOf(n.searchText))return"#000000"}),t.selectAll("text").text(function(t){return-1!==t.entityName.indexOf(n.searchText)?t.entityName:""}))}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"svgContainer"}},[a("div",{staticClass:"every"},[a("div",{staticClass:"svg",attrs:{id:"forceDirected"}}),t._v(" "),"large"===t.size?a("div",{staticClass:"option"},[a("div",{staticClass:"option_name"},[t._v(t._s(t.changeType)+": "),a("a",{staticClass:"center_name",attrs:{href:t.type<4?"/entity/"+this.$route.params.type+"/"+t.id:null}},[t._v(t._s(t.graphVO.centerName))])]),t._v(" "),t.type<4?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.showTotal,expression:"showTotal"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showTotal)?t._i(t.showTotal,null)>-1:t.showTotal},on:{change:function(e){var a=t.showTotal,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.showTotal=a.concat([null])):s>-1&&(t.showTotal=a.slice(0,s).concat(a.slice(s+1)))}else t.showTotal=i}}}),t._v("Show Total Graph\n      ")]):t._e(),t._v(" "),a("el-input",{staticClass:"search-input",attrs:{placeholder:"filter"},on:{input:t.searchNodes},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1):t._e()])])},staticRenderFns:[]};var Z=a("VU/8")(j,W,!1,function(t){a("4jd2")},null,null).exports,q={name:"HotGraph",data:function(){return{year:2e3,points:""}},props:{data:{type:String,default:""},id:{type:String,default:"101"}},mounted:function(){this.changeData()},methods:{changeData:function(){this.year=this.data.split(" ")[0];var t=[];this.data.slice(5).split(" ").forEach(function(e){t.push(+e)}),1===t.length&&(t.unshift(0),t.push(0),this.year-=1);for(var e=Math.max.apply(Math,t),a=Math.min.apply(Math,t),n="",i=0,s=0;s<t.length;i+=150/(t.length-1),s+=1)n=0===a?n+i+","+(t[s]*(12/e)+1)+" ":n+i+","+t[s]*(12/e)+" ";this.points=n}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hot-graph"},[a("span",{staticClass:"year"},[t._v(t._s(t.year))]),t._v(" "),a("span",{attrs:{title:"This is the chart of hot change."}},[a("svg",{attrs:{width:"155",height:"30"}},[a("defs",[a("linearGradient",{attrs:{id:"gradient-"+t.id,x1:"0",x2:"0",y1:"1",y2:"0"}},[a("stop",{attrs:{offset:"10%","stop-color":"#9be9a8"}}),t._v(" "),a("stop",{attrs:{offset:"33%","stop-color":"#40c463"}}),t._v(" "),a("stop",{attrs:{offset:"66%","stop-color":"#30a14e"}}),t._v(" "),a("stop",{attrs:{offset:"90%","stop-color":"#216e39"}})],1),t._v(" "),a("mask",{attrs:{id:"sparkline-"+t.id,x:"0",y:"0",width:"155",height:"28"}},[a("polyline",{attrs:{transform:"translate(0, 28) scale(1,-1)",points:t.points,fill:"transparent",stroke:"#8cc665","stroke-width":"2"}})])],1),t._v(" "),a("g",{attrs:{transform:"translate(0, -4)"}},[a("rect",{style:"stroke: none; fill: url(#gradient-"+t.id+"); mask: url(#sparkline-"+t.id+")",attrs:{x:"0",y:"-2",width:"155",height:"30"}})])])])])},staticRenderFns:[]};var J=a("VU/8")(q,Q,!1,function(t){a("pkmI")},"data-v-49e859d9",null).exports,X=a("XLwt"),tt=a.n(X),et=(a("FBwb"),{name:"Entity",components:{HotGraph:J,RelationGraph:Z,Card:P},data:function(){return{id:0,type:0,size:"small",activeName:"author",typeDic:{author:1,affiliation:2,issue:3,term:4,paper:5},academicEntityVO:{},hasCloud:!1,yearSelect:-1,termSelect:-1,allTermItems:[],showTermItems:[],significantPapers:[]}},watch:{activeName:function(){if("cloud"===this.activeName&&!this.hasCloud&&this.academicEntityVO.terms&&this.academicEntityVO.terms.length>0){var t=this;setTimeout(function(){t.renderCloudNew()},100)}},yearSelect:function(){if(-1===this.yearSelect)this.showTermItems=this.allTermItems;else{var t=this;this.academicEntityVO.yearlyTerms.forEach(function(e){e.year===t.yearSelect&&(t.showTermItems=e.termItemList)})}-1===this.termSelect?this.renderSignificantPaper():this.termSelect=-1},termSelect:function(){this.renderSignificantPaper()}},mounted:function(){var t=this;this.id=this.$route.params.id,this.type=this.typeDic[this.$route.params.type],void 0!==this.id&&void 0!==this.type||(window.location.href="/home");var e,a,n=g.Loading.service({fullscreen:!0,text:"loading..."});(e=this.id,a=this.type,u.a.get("/academic/"+e+"?type="+a).then(function(t){return t.data})).then(function(e){e.yearlyTerms.sort(function(t,e){return e.year-t.year}),t.academicEntityVO=e,e.authors&&e.authors[0]?t.activeName="author":e.affiliations&&e.affiliations[0]?t.activeName="affiliation":e.conferences&&e.conferences[0]?t.activeName="conference":e.terms&&e.terms[0]?t.activeName="cloud":t.activeName="graph";var a=[];t.academicEntityVO.yearlyTerms.forEach(function(t){t.termItemList.forEach(function(t){var e=!1;a.forEach(function(a){a.id===t.id&&a.name===t.name&&(e=!0)}),e||a.push(t)})}),t.allTermItems=a,t.showTermItems=t.allTermItems,n.close()}).catch(function(){t.$alert("Fail to get entity，please search again","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1}).then(function(){window.location.href="/home"})})},methods:{toOtherEntity:function(t,e){window.location.href="/entity/"+t+"/"+e},renderCloud:function(){var t=this.academicEntityVO.terms;t.sort(function(t,e){return e.hot-t.hot});var e=Math.max.apply(Math,t.map(function(t){return t.hot})),a=document.getElementById("cloud-wrap").offsetWidth,n=t.length>20?600:400,i=U.g(U.h),s=U.i("#cloud").append("svg").attr("width",a).attr("height",n);t=t.slice(0,50);var r=Y().size([a,n]).words(t).padding(function(t){return t.hot,30}).rotate(function(t){return 45*Math.round(Math.random())}).font("Impact").fontSize(function(t){return(t.hot+1)/(e+1)>.8?20+(t.hot+1)/(e+1)*20:10+(t.hot+1)/(e+1)*20}).on("end",function(t){s.append("g").attr("transform","translate("+r.size()[0]/2+","+r.size()[1]/2+")").selectAll("text").data(t).enter().append("text").on("click",function(t){window.location.href="/graph/term/"+t.id}).style("cursor","pointer").attr("fill",function(t,e){return i(e)}).style("font-size",function(t){return(t.hot+1)/(e+1)>.8?20+(t.hot+1)/(e+1)*20:10+(t.hot+1)/(e+1)*20}).style("font-family","Impact").attr("text-anchor","middle").attr("transform",function(t){return"translate("+[1.1*t.x,1.1*t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.name}).append("title").text(function(t){return t.name})});r.start(),this.hasCloud=!0},renderCloudNew:function(){var t=this.academicEntityVO.terms;t.sort(function(t,e){return e.hot-t.hot});var e=Math.max.apply(Math,t.map(function(t){return t.hot})),a=[];t.forEach(function(t){a.push({name:t.name,id:t.id,value:(t.hot,20+(t.hot+1)/(e+1)*20)})}),console.log(a);var n=tt.a.init(document.getElementById("cloud")),i={tooltip:{trigger:"item",formatter:"{b}"},series:[{type:"wordCloud",gridSize:2,sizeRange:[20,80],rotationRange:[0,0],shape:"circle",textStyle:{normal:{color:function(){return"rgb("+[Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())].join(",")+")"}},emphasis:{shadowBlur:5,shadowColor:"#333"}},data:a}]};n.setOption(i),n.on("click",function(t){window.location.href="/graph/term/"+t.data.id})},search:function(){window.location.href="/search/"+{1:"Author",2:"Affiliation",3:"Publication"}[this.type]+"/"+this.academicEntityVO.name},renderSignificantPaper:function(){var t,e,a,n,i=this,s=this,r=!1;this.significantPapers.forEach(function(t){s.yearSelect===t.year&&s.termSelect===t.term&&(s.academicEntityVO.significantPapers=t.paper,r=!0)}),r||(t=this.id,e=this.type,a=this.yearSelect,n=this.termSelect,u.a.get("/academic/significantPapers?year="+a+"&termId="+n+"&id="+t+"&type="+e).then(function(t){return t.data})).then(function(t){i.academicEntityVO.significantPapers=t,i.significantPapers.push({year:i.yearSelect,term:i.termSelect,paper:t})})}},computed:{changeName:function(){if(3===this.type&&void 0!==this.academicEntityVO.name){var t=this.academicEntityVO.name.split(" ");return"1"===t[1].substr(-1,1)?t[1]+="st":"2"===t[1].substr(-1,1)?t[1]+="nd":"3"===t[1].substr(-1,1)?t[1]+="rd":t[1]+="th","ASE"===t[2]?t[0]+" "+t[1]+" IEEE/ACM International Conference on Automated Software Engineering (ASE)":t[0]+" "+t[1]+" IEEE/ACM International Conference on Software Engineering (ICSE)"}return this.academicEntityVO.name}}}),at={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("div",{staticClass:"body_bottom"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("Home")]),t._v(" "),n("el-breadcrumb-item",[n("span",[t._v(t._s(t.academicEntityVO.name))])])],1),t._v(" "),n("div",{staticClass:"body_bottom_body"},[n("el-row",[n("el-col",{attrs:{span:t.academicEntityVO.refSum>-1?19:22,offset:1}},[n("div",{staticClass:"entity-title"},[n("span",{staticClass:"name"},[t._v(t._s(t.academicEntityVO.name))]),t._v(" "),t.academicEntityVO.popTrend?n("hot-graph",{attrs:{data:t.academicEntityVO.popTrend,id:t.type+""+t.id}}):t._e()],1),t._v(" "),t.academicEntityVO.refSum>-1?n("hr"):t._e()]),t._v(" "),t.academicEntityVO.refSum>-1?n("el-col",{attrs:{span:3,offset:1}},[n("div",{staticClass:"reference citation_box"},[n("div",{staticClass:"citation_title"},[t._v("Reference")]),t._v(" "),n("div",{staticClass:"citation_count"},[t._v(t._s(t.academicEntityVO.refSum))])])]):t._e()],1),t._v(" "),n("el-row",[n("el-col",{staticClass:"body_bottom_top",attrs:{span:22,offset:1}},[n("el-row",[n("el-col",[n("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[t.academicEntityVO.authors&&t.academicEntityVO.authors.length>0?n("el-tab-pane",{attrs:{name:"author"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-s-custom"}),t._v(" Authors")]),t._v(" "),n("el-row",t._l(t.academicEntityVO.authors,function(e,a){return n("el-col",{key:a,staticClass:"column",attrs:{span:12}},[n("el-row",{staticClass:"entity-wrap"},[n("el-col",{attrs:{span:9}},[n("a",{staticClass:"entity",attrs:{title:e.name,href:"/entity/author/"+e.id}},[t._v("\n                          "+t._s(a+1+". "+e.name)+"\n                        ")])]),t._v(" "),n("el-col",{attrs:{span:15}},[n("hot-graph",{attrs:{data:e.popTrend,id:"1"+e.id}})],1)],1)],1)}),1)],1):t._e(),t._v(" "),t.academicEntityVO.affiliations&&t.academicEntityVO.affiliations.length>0?n("el-tab-pane",{attrs:{name:"affiliation"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-s-home"}),t._v(" Affiliations")]),t._v(" "),n("el-row",t._l(t.academicEntityVO.affiliations,function(e,a){return n("el-col",{key:a,staticClass:"column",attrs:{span:12}},[n("el-row",{staticClass:"entity-wrap"},[n("el-col",{attrs:{span:14}},[n("a",{staticClass:"entity",attrs:{title:e.name,href:"/entity/affiliation/"+e.id}},[t._v("\n                          "+t._s(a+1+". "+e.name)+"\n                        ")])]),t._v(" "),n("el-col",{attrs:{span:10}},[n("hot-graph",{attrs:{data:e.popTrend,id:"2"+e.id}})],1)],1)],1)}),1)],1):t._e(),t._v(" "),t.academicEntityVO.conferences&&t.academicEntityVO.conferences.length>0?n("el-tab-pane",{attrs:{name:"conference"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-time"}),t._v(" Conferences")]),t._v(" "),n("el-row",t._l(t.academicEntityVO.conferences,function(e,a){return n("el-col",{key:a,staticClass:"column",attrs:{span:12}},[n("el-row",{staticClass:"entity-wrap"},[n("el-col",{attrs:{span:e.popTrend?12:24}},[n("a",{staticClass:"entity",attrs:{title:e.name,href:"/entity/issue/"+e.id}},[t._v("\n                          "+t._s(a+1+". "+e.name)+"\n                        ")])]),t._v(" "),e.popTrend?n("el-col",{attrs:{span:12}},[n("hot-graph",{attrs:{data:e.popTrend,id:"3"+e.id}})],1):t._e()],1)],1)}),1)],1):t._e(),t._v(" "),t.academicEntityVO.terms&&t.academicEntityVO.terms.length>0?n("el-tab-pane",{attrs:{name:"cloud"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-cloudy"}),t._v(" Cloud")]),t._v(" "),n("div",{attrs:{id:"cloud-wrap"}},[n("div",{staticClass:"svg",attrs:{id:"cloud"}})]),t._v(" "),t.hasCloud?n("div",{staticClass:"cloud_tip"},[n("em",[t._v("hover or click to know more ...")])]):t._e()]):t._e(),t._v(" "),n("el-tab-pane",{attrs:{name:"graph"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-connection"}),t._v(" Relation Graph")]),t._v(" "),0!==t.id&&"graph"===t.activeName?n("relation-graph",{attrs:{eid:parseInt(t.id),etype:t.type,size:t.size}}):t._e(),t._v(" "),n("div",{staticClass:"graph_entry"},[n("router-link",{attrs:{to:"/graph/"+this.$route.params.type+"/"+this.$route.params.id}},[n("el-tooltip",{attrs:{content:"More Relation Graph",placement:"bottom-start",effect:"dark","open-delay":400}},[n("img",{staticClass:"graph_entry",attrs:{src:a("fxIO")}})])],1)],1)],1)],1)],1)],1)],1),t._v(" "),n("el-col",{staticClass:"significantPaper_wrap",attrs:{span:22,offset:1}},[n("strong",{staticClass:"significantPaper_title"},[t._v("Significant Papers")]),t._v(" "),n("hr"),t._v(" "),this.academicEntityVO.yearlyTerms&&0!==this.academicEntityVO.yearlyTerms.length?n("div",{staticClass:"radio"},[n("el-row",[n("el-col",{attrs:{span:2}},[n("strong",[t._v("Year: ")])]),t._v(" "),n("el-col",{attrs:{span:22}},[n("el-radio-group",{model:{value:t.yearSelect,callback:function(e){t.yearSelect=e},expression:"yearSelect"}},[n("el-radio",{attrs:{label:-1}},[t._v("All")]),t._v(" "),t._l(t.academicEntityVO.yearlyTerms,function(e,a){return n("el-radio",{key:a,attrs:{label:e.year}},[t._v("\n                    "+t._s(e.year)+"\n                  ")])})],2)],1)],1)],1):t._e(),t._v(" "),this.academicEntityVO.yearlyTerms&&0!==this.academicEntityVO.yearlyTerms.length?n("div",{staticClass:"radio"},[n("el-row",[n("el-col",{attrs:{span:2}},[n("strong",[t._v("Term: ")])]),t._v(" "),n("el-col",{attrs:{span:22}},[n("el-radio-group",{model:{value:t.termSelect,callback:function(e){t.termSelect=e},expression:"termSelect"}},[n("el-radio",{attrs:{label:-1}},[t._v("All")]),t._v(" "),t._l(t.showTermItems,function(e,a){return n("el-radio",{key:a,attrs:{label:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])})],2)],1)],1),t._v(" "),n("hr")],1):t._e(),t._v(" "),t._l(t.academicEntityVO.significantPapers,function(t,e){return n("Card",{key:e,attrs:{"simple-paper-v-o":t}})})],2),t._v(" "),n("el-col",{staticClass:"more",attrs:{span:22,offset:1}},[n("a",{staticClass:"more-text",on:{click:t.search}},[t._v("More information about "),n("strong",[t._v(t._s(t.academicEntityVO.name)+" ...")])])])],1)],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"body_top"},[e("div",{staticClass:"top-img"},[e("img",{attrs:{src:a("EOT9"),alt:"This is a background pic."}})]),this._v(" "),e("div",{staticClass:"system-name-wrap"},[e("span",[this._v("Online grAph System for academIcS")])])])}]};var nt=a("VU/8")(et,at,!1,function(t){a("LNa6")},"data-v-263b7f48",null).exports,it={name:"Manage",data:function(){return{mode:"1-1",modeDic:{"1-1":1,"1-2":2,"2-1":1,"2-2":2},page:1,total:50,aliasList:[]}},mounted:function(){this.showAlias()},methods:{logout:function(){this.$confirm("Are you sure you want to log out","tip",{confirmButtonText:"sure",cancelButtonText:"cancel",type:"info"}).then(function(){u.a.post("/logout").then(function(t){return t.data}).then(function(t){"100"===t.status&&(m.a.remove("Authorization"),window.location.href="/login")})}).catch(function(){console.log("取消登出")})},select:function(t){this.mode=t,this.page=1,this.total=50,this.showAlias()},toOtherEntity:function(t,e){window.location.href="/entity/"+{1:"author",2:"affiliation",3:"issue",4:"term",5:"paper"}[t]+"/"+e},showAlias:function(){var t,e,a,n=this;"1-1"===this.mode||"1-2"===this.mode?(t=this.page-1,e=this.modeDic[this.mode],a=m.a.get("Authorization"),u.a.get("/admin/getConfusedAlias?page="+t+"&type="+e,void 0===a?"":{headers:{Authorization:"Bearer "+a}}).then(function(t){return t.data})).then(function(t){"000"===t.status?n.$alert("Identity expired, please login again","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1}).then(function(){m.a.remove("Authorization"),window.location.href="/login"}):0===t.length&&1!==n.page?n.$alert("Page error","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1}).then(function(){n.total=n.page-1,n.page=1,n.showAlias()}):n.aliasList=t}).catch(function(){n.$alert("Identity verification failed, please login again","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1}).then(function(){m.a.remove("Authorization"),window.location.href="/login"})}):function(t,e){var a=m.a.get("Authorization");return u.a.get("/admin/getEffectiveAlias?page="+t+"&type="+e,void 0===a?"":{headers:{Authorization:"Bearer "+a}}).then(function(t){return t.data})}(this.page-1,this.modeDic[this.mode]).then(function(t){"000"===t.status?n.$alert("Identity expired, please login again","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1}).then(function(){m.a.remove("Authorization"),window.location.href="/login"}):0===t.length&&1!==n.page?n.$alert("Page error","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1}).then(function(){n.total=n.page-1,n.page=1,n.showAlias()}):n.aliasList=t}).catch(function(){n.$alert("Identity verification failed, please login again","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1}).then(function(){m.a.remove("Authorization"),window.location.href="/login"})})},confirmAlias:function(t,e,a){var n=this;(function(t,e,a){var n=m.a.get("Authorization");return u.a.post("/admin/modifyAlias?sonId="+t+"&fatherId="+e+"&type="+a,{},void 0===n?"":{headers:{Authorization:"Bearer "+n}}).then(function(t){return t.data})})(t,e,a).then(function(t){t.success?n.$alert("Add alias map succeed!","Tips",{type:"success",confirmButtonText:"confirm",showClose:!1}).then(function(){n.showAlias()}):"000"===t.status?n.$alert("Identity expired, please login again","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1}).then(function(){m.a.remove("Authorization"),window.location.href="/login"}):n.$alert("Add alias map failed, please try again!","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1})})},confirmCancelAlias:function(t,e){var a=this;this.$confirm("Are you sure you want to cancel ","tip",{confirmButtonText:"yes",cancelButtonText:"no",type:"info"}).then(function(){(function(t,e){var a=m.a.get("Authorization");return u.a.post("/admin/cancelAlias?sonId="+t+"&type="+e,{},void 0===a?"":{headers:{Authorization:"Bearer "+a}}).then(function(t){return t.data})})(t,e).then(function(t){t.success?a.$alert("Cancel alias map succeed!","Tips",{type:"success",confirmButtonText:"confirm",showClose:!1}).then(function(){a.showAlias()}):"000"===t.status?a.$alert("Identity expired, please login again","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1}).then(function(){m.a.remove("Authorization"),window.location.href="/login"}):a.$alert("Cancel alias map failed, please try again!","Tips",{type:"error",confirmButtonText:"confirm",showClose:!1})})}).catch(function(){console.log("取消")})}}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"logout",on:{click:t.logout}},[t._v("\n    Logout\n    "),a("i",{staticClass:"el-icon-delete"})]),t._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-menu",{staticClass:"manage-menu",attrs:{"default-active":t.mode,"active-text-color":"#000000"},on:{select:t.select}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-upload"}),t._v("Add Alias")]),t._v(" "),a("el-menu-item",{attrs:{index:"1-1"}},[a("div",{staticClass:"rank-select-item"},[a("i",{staticClass:"el-icon-location"}),t._v("Author")]),a("div",[a("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),a("el-menu-item",{attrs:{index:"1-2"}},[a("div",{staticClass:"rank-select-item"},[a("i",{staticClass:"el-icon-document"}),t._v("Affiliation")]),a("div",[a("i",{staticClass:"el-icon-arrow-right"})])])],2),t._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),t._v("Cancel Alias")]),t._v(" "),a("el-menu-item",{attrs:{index:"2-1"}},[a("div",{staticClass:"rank-select-item"},[a("i",{staticClass:"el-icon-location"}),t._v("Author")]),a("div",[a("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),a("el-menu-item",{attrs:{index:"2-2"}},[a("div",{staticClass:"rank-select-item"},[a("i",{staticClass:"el-icon-document"}),t._v("Affiliation")]),a("div",[a("i",{staticClass:"el-icon-arrow-right"})])])],2)],1)],1),t._v(" "),a("el-col",{staticClass:"body-right",attrs:{span:19}},[a("el-row",["1-1"===t.mode||"1-2"===t.mode?a("el-col",{staticClass:"table",attrs:{span:23}},[a("el-row",[a("el-col",{staticClass:"head source",attrs:{span:5}},[a("strong",[t._v("Source")])]),t._v(" "),a("el-col",{staticClass:"head targets",attrs:{span:16}},[a("strong",[t._v("Target(s)")])]),t._v(" "),a("el-col",{staticClass:"head",attrs:{span:3}},[a("strong",[t._v("Operation")])])],1),t._v(" "),t._l(t.aliasList,function(e,n){return a("el-row",{key:n,staticClass:"line"},[a("el-col",{staticClass:"column source",attrs:{span:5}},[a("el-tag",{attrs:{title:e.name},on:{click:function(a){return t.toOtherEntity(e.type,e.sonId)}}},[t._v(t._s(e.name))])],1),t._v(" "),a("el-col",{staticClass:"column targets",attrs:{span:16}},t._l(e.fathers,function(n){return a("el-tag",{key:n.fatherId,attrs:{title:n.aliasName},on:{click:function(a){return t.toOtherEntity(e.type,n.fatherId)}}},[t._v(t._s(n.aliasName))])}),1),t._v(" "),a("el-col",{staticClass:"column operation",attrs:{span:3}},[a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[a("a",{attrs:{slot:"reference"},slot:"reference"},[t._v("operate")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[t._v("Choose one target to add")])],1),t._v(" "),a("el-row",{staticClass:"operate-source"},[a("el-col",{attrs:{span:4}},[t._v("Source:")]),t._v(" "),a("el-col",{attrs:{span:20}},[a("strong",{attrs:{title:e.name}},[t._v(t._s(e.name))])])],1),t._v(" "),a("el-row",{staticClass:"operate-target"},[a("el-col",{attrs:{span:4}},[t._v("Targets:")]),t._v(" "),a("el-col",{attrs:{span:20}},[a("el-tag",{attrs:{title:e.name},on:{click:function(a){return t.confirmAlias(e.sonId,e.sonId,e.type)}}},[t._v(t._s(e.name))]),t._v(" "),t._l(e.fathers,function(n){return a("el-tag",{key:n.fatherId,attrs:{title:n.aliasName},on:{click:function(a){return t.confirmAlias(e.sonId,n.fatherId,e.type)}}},[t._v(t._s(n.aliasName))])})],2)],1)],1)],1)],1)}),t._v(" "),a("el-row",[0===t.aliasList.length?a("div",{staticClass:"message"},[t._v("no data...")]):t._e()])],2):t._e(),t._v(" "),"2-1"===t.mode||"2-2"===t.mode?a("el-col",{staticClass:"table",attrs:{span:23}},[a("el-row",[a("el-col",{staticClass:"head source",attrs:{span:5}},[a("strong",[t._v("Source")])]),t._v(" "),a("el-col",{staticClass:"head targets",attrs:{span:16}},[a("strong",[t._v("Target(s)")])]),t._v(" "),a("el-col",{staticClass:"head",attrs:{span:3}},[a("strong",[t._v("Operation")])])],1),t._v(" "),t._l(t.aliasList,function(e,n){return a("el-row",{key:n,staticClass:"line"},[a("el-col",{staticClass:"column source",attrs:{span:5}},[a("el-tag",{attrs:{title:e.name},on:{click:function(a){return t.toOtherEntity(e.type,e.sonId)}}},[t._v(t._s(e.name))])],1),t._v(" "),a("el-col",{staticClass:"column targets",attrs:{span:16}},t._l(e.fathers,function(n){return a("el-tag",{key:n.fatherId,attrs:{title:n.aliasName},on:{click:function(a){return t.toOtherEntity(e.type,n.fatherId)}}},[t._v(t._s(n.aliasName))])}),1),t._v(" "),a("el-col",{staticClass:"column operation",attrs:{span:3}},[a("a",{on:{click:function(a){return t.confirmCancelAlias(e.sonId,e.type)}}},[t._v("cancel")])])],1)}),t._v(" "),a("el-row",[0===t.aliasList.length?a("div",{staticClass:"message"},[t._v("no data...")]):t._e()])],2):t._e(),t._v(" "),t.aliasList.length>0?a("el-col",{attrs:{span:24}},[a("el-pagination",{attrs:{"current-page":t.page,"page-size":1,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.showAlias,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1):t._e()],1)],1)],1)],1)])},staticRenderFns:[]};var rt={name:"Graph",data:function(){return{id:0,type:1,size:"large",typeDic:{author:1,affiliation:2,issue:3,term:4,paper:5}}},components:{RelationGraph:Z},mounted:function(){this.id=parseInt(this.$route.params.id),this.type=this.typeDic[this.$route.params.type],void 0!==this.id&&void 0!==this.type||(window.location.href="/home")}},ot={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[0!==this.id?e("relation-graph",{attrs:{eid:this.id,etype:this.type,size:this.size}}):this._e()],1)},staticRenderFns:[]};var lt=[{path:"/",redirect:"/home"},{path:"*",redirect:"/home"},{path:"/home",name:"Home",component:O},{path:"/search/:mode/:content",name:"Search",component:M},{path:"/rank",name:"Rank",component:z},{path:"/paper/:id",name:"Paper",component:G},{path:"/login",name:"AdminLogin",component:K},{path:"/admin/manage",name:"AdminManage",component:a("VU/8")(it,st,!1,function(t){a("pLtG")},"data-v-a756afd6",null).exports},{path:"/entity/:type/:id",name:"Entity",component:nt},{path:"/graph/:type/:id",name:"Graph",component:a("VU/8")(rt,ot,!1,function(t){a("me+T")},"data-v-ed07503a",null).exports}];n.default.use(c.a);var ct=new c.a({mode:"history",routes:lt});ct.beforeEach(function(t,e,a){a()});var dt=ct,ut=(a("tvR6"),a("Q00M"),a("lCKi")),pt=a.n(ut);a("n1Sy");n.default.component("VueSlider",pt.a),n.default.use(C.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:dt,components:{App:l},template:"<App/>"})},Q00M:function(t,e){},WkGc:function(t,e){},aM76:function(t,e){},fxIO:function(t,e,a){t.exports=a.p+"static/img/graph-entry.ffe3819.png"},gesG:function(t,e){},"me+T":function(t,e){},n1Sy:function(t,e){},pLtG:function(t,e){},pZBf:function(t,e){},pkmI:function(t,e){},suEp:function(t,e,a){t.exports=a.p+"static/img/background-new.d7a1880.jpg"},tgRP:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6cd0309707202d17e5b9.js.map